#!/usr/bin/env python3


import subprocess
import sys
import socket
import os
import uuid
import shutil
from pathlib import Path

pwd = os.getcwd()
target = sys.argv[1]
domain = sys.argv[2]
x = str(uuid.uuid1()).split('-')[0]
container_name = target+'-'+x+'-httpx'

def executa():
    subprocess.check_output('docker run --rm --name '+container_name+' -v '+pwd+'/'+target+'/temp:/data kali-tools:2.0 /root/go/bin/httpx -u '+domain+' -random-agent -fhr >> '+pwd+'/'+target+'/temp/subs_dominios_V.txt || true', shell=True)

def main():
    executa()
    
if __name__== '__main__':
    main()
